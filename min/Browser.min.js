(function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};t=function(t){return function(){var e;return e=new t.CrossRenderer,e.start()}}(this),this.Browser=function(){function t(){}return t.prototype.url="file://"+__dirname+"/contents/index.html",t.prototype.app=require("app"),t.prototype.ipc=require("ipc"),t.prototype.BrowserWindow=require("browser-window"),t.prototype.globalShortcut=require("global-shortcut"),t.prototype.shell=require("shell"),t.prototype.mainWindow=0,t.prototype.start=function(){return require("crash-reporter").start(),this.ipc_event(),this.app_start()},t.prototype.ipc_event=function(){return this.ipc.on("inspect element",function(t){return function(e,n,r){return t[r].inspectElement(n.x,n.y)}}(this))},t.prototype.app_start=function(){return this.app.on("window-all-closed",function(t){return function(){return"darwin"!==process.platform?t.app.quit():void 0}}(this)),this.app.on("ready",function(t){return function(){return t.make_window(),t.etc()}}(this))},t.prototype.make_window=function(){return this.mainWindow=new this.BrowserWindow({width:800,height:800}),this.mainWindow.loadUrl(this.url),this.mainWindow.openDevTools(),this.mainWindow.on("closed",function(){return this.mainWindow=null})},t.prototype.global_shortcut=function(){var t;return t=this.globalShortcut.register("ctrl+e",function(){return function(){return console.log("ctrl+e is pressed")}}(this)),1},t.prototype.etc=function(){return this.global_shortcut()},t}(),this.CrossRenderer=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.subWindow=0,e.prototype.subWindowUrl="http://jp.indeed.com/",e.prototype.etc=function(){return e.__super__.etc.call(this),this.set_browser_emit_event()},e.prototype.start=function(){return e.__super__.start.call(this)},e.prototype.ipc_event=function(){return e.__super__.ipc_event.call(this),this.ipc_event_renderer()},e.prototype.make_window=function(){return e.__super__.make_window.call(this),this.add_window(),this.move_window(),this.set___ipcEvent_for_external_site(),this.set_inspect_mode(this.subWindow)},e.prototype.move_window=function(){return this.mainWindow.setTitle("atom-shell MainWindow"),this.subWindow.setTitle("atom-shell SubWindow"),this.shell.openItem("set2renderer.exe")},e.prototype.add_window=function(){return this.subWindow=new this.BrowserWindow({width:800,height:800}),this.subWindow.loadUrl(this.subWindowUrl),this.subWindow.openDevTools(),this.subWindow.on("closed",function(){return this.subWindow=null})},e.prototype.ipc_event_renderer=function(){return this.ipc.on("send_browser",function(){return function(){}}(this)),this.ipc.on("send_renderer_via_browser",function(t){return function(e,n,r){return t[r].webContents.send("via_browser",n)}}(this)),this.ipc.on("execute_renderer",function(t){return function(e,n,r){return t[r].webContents.executeJavaScript(n)}}(this))},e.prototype.set___ipcEvent_for_external_site=function(t){return null==t&&(t="subWindow"),this[t].webContents.executeJavaScript("if (typeof ___ipc === \"undefined\" || ___ipc === null) {\n	window.___ipc = require('ipc'); \n	// receive\n	___ipc.on('via_browser', function(data) {console.log(data);});\n	___ipc.on(\"send_renderer_from_browser\", function(data){\n		console.log(data);\n	});\n	// serve\n	___ipc.send('send_renderer_via_browser', 'data_man', 'mainWindow');\n}")},e.prototype.set_inspect_mode=function(t){return t.webContents.executeJavaScript('document.addEventListener("mousedown", function(e) {\n	var obj;\n	if (e.button === 2) {\n		obj = {\n			x: e.clientX,\n			y: e.clientY\n		};\n		___ipc.send("inspect element", obj, "subWindow");\n	}\n});')},e.prototype.set_browser_emit_event=function(){var t;return t=this.globalShortcut.register("Ctrl+Shift+D",function(t){return function(){return t.mainWindow.webContents.send("send_renderer_from_browser",321),t.subWindow.webContents.send("send_renderer_from_browser",321)}}(this))},e}(this.Browser),t()}).call(this);