(function(){var t;t=function(t){return function(){var n;return n=new t.Browser,n.start()}}(this),this.Browser=function(){function t(){var t,n,o;n=this.cson.load("./browser.cson");for(t in n)o=n[t],this[t]=o}return t.prototype.url="file://"+__dirname+"/contents/index.html",t.prototype.cson_path="./browser.cson",t.prototype.fs=require("fs"),t.prototype.app=require("app"),t.prototype.ipc=require("ipc"),t.prototype.cson=require("cson"),t.prototype.BrowserWindow=require("browser-window"),t.prototype.globalShortcut=require("global-shortcut"),t.prototype.shell=require("shell"),t.prototype.mainWindow=0,t.prototype.start=function(){return require("crash-reporter").start(),this.ipc_event(),this.app_start(),this.live_reload()},t.prototype.ipc_event=function(){return this.ipc.on("inspect element",function(t){return function(n,o,r){return t[r].inspectElement(o.x,o.y)}}(this))},t.prototype.app_start=function(){return this.app.on("window-all-closed",function(t){return function(){return"darwin"!==process.platform?t.app.quit():void 0}}(this)),this.app.on("ready",function(t){return function(){return t.make_window(),t.etc()}}(this))},t.prototype.live_reload=function(){return this.fs.watch("contents",function(t){return function(n,o){var r;if(o)return o.match(/\.(html)|(js)|(css)$/)?"function"==typeof(r=t.mainWindow).reload?r.reload():void 0:void 0}}(this)),this.fs.watch("contents/nodejs",function(t){return function(n,o){var r;if(o)return o.match(/\.(html)|(js)|(css)$/)?"function"==typeof(r=t.mainWindow).reload?r.reload():void 0:void 0}}(this))},t.prototype.make_window=function(){return this.mainWindow=new this.BrowserWindow({x:this.x,y:this.y,width:this.width,height:this.height}),this.mainWindow.webContents.on("did-finish-load",function(){return function(){return console.log("load finished.")}}(this)),this.mainWindow.loadUrl(this.url),this.mainWindow.openDevTools(),this.mainWindow.on("close",function(t){return function(){var n,o,r,i;return i=t.mainWindow.getPosition(),r=t.mainWindow.getSize(),o=t.cson.load(t.cson_path),o.x=i[0],o.y=i[1],o.width=r[0],o.height=r[1],n=t.cson.createCSONString(o),t.fs.writeFileSync(t.cson_path,n),t.mainWindow=null}}(this))},t.prototype.global_shortcut=function(){var t;return t=this.globalShortcut.register("ctrl+e",function(){return function(){return console.log(Date.now()+" , ctrl+e is pressed")}}(this))},t.prototype.etc=function(){return this.global_shortcut()},t}(),t()}).call(this);