(function(){var t=function(t,n){function r(){this.constructor=t}for(var s in n)o.call(n,s)&&(t[s]=n[s]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},o={}.hasOwnProperty;this.AtomAppClient=function(o){function n(){this.params=this.get_params(location.href),this.params.ws&&this.connect_websocket()}return t(n,o),n.prototype.ws=1,n.prototype.domain=location.host.replace(/:.*/,""),n.prototype.params=0,n.prototype.connect_websocket=function(){return this.ws_url="ws://"+this.domain+":"+this.ws_port,this.ws=io(this.ws_url),this.ws.on("connect",function(t){return function(){return console.log("websocket connected"),t.params.g&&t.ws.emit("g","object"==typeof t.params.g?t.params.g:[t.params.g]),t.ws.on("reload",function(){return location.reload()})}}(this))},n}(this.CommonJsAroundProtocol)}).call(this);