(function(){var t={}.hasOwnProperty,o=function(o,n){function r(){this.constructor=o}for(var s in n)t.call(n,s)&&(o[s]=n[s]);return r.prototype=n.prototype,o.prototype=new r,o.__super__=n.prototype,o};this.AtomAppClient=function(t){function n(){this.params=this.get_params(location.href),this.params.ws&&this.connect_websocket()}return o(n,t),n.prototype.ws=1,n.prototype.domain=location.host.replace(/:.*/,""),n.prototype.params=0,n.prototype.connect_websocket=function(){return this.ws_url="ws://"+this.domain+":"+this.ws_port,this.ws=io(this.ws_url),this.ws.on("connect",function(t){return function(){return console.log("websocket connected"),t.params.g&&t.ws.emit("g",t.params.g),t.ws.on("reload",function(){return location.reload()})}}(this))},n}(this.CommonJsAroundProtocol)}).call(this);